<!doctype html>
<!-- The DOCTYPE declaration above will set the     -->
<!-- browser's rendering engine into                -->
<!-- "Standards Mode". Replacing this declaration   -->
<!-- with a "Quirks Mode" doctype is not supported. -->

<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

<!--                                                               -->
<!-- Consider inlining CSS to reduce the number of requested files -->
<!--                                                               -->

<link rel="stylesheet" href="css/jquery.mobile-1.4.5.min.css">

<link type="text/css" rel="stylesheet" href="css/style.css">
<link type="text/css" rel="stylesheet"
	href="http://nd2.godesign.ch/css/nativedroid2.css">

<script src="js/jquery/jquery-1.11.1.min.js" type="text/javascript"></script>
<script src="js/jquery/jquery.mobile-1.4.5.min.js"
	type="text/javascript"></script>

<script type="text/javascript" src="js/gpc/gpc.js"></script>
<script type="text/javascript" src="js/gpc/init.js"></script>


<title>LCAV/EPFL Camera Localisation Demo</title>

<meta charset="utf-8">


<!--                                           -->
<!-- This script loads your compiled module.   -->
<!-- If you add any GWT meta tags, they must   -->
<!-- be added before this line.                -->
<!--                                           -->
<script type="text/javascript" language="javascript"
	src="shapeDemo/shapeDemo.nocache.js"></script>
<script type="text/x-mathjax-config">
  		MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
	</script>
<script type="text/javascript" async
	src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
	</script>
<script type="text/javascript">
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	
	  ga('create', 'UA-73219031-1', 'auto');
	  ga('send', 'pageview');

	</script>
</head>

<!--                                           -->
<!-- The body can have arbitrary html, or      -->
<!-- you can leave the body empty if you want  -->
<!-- to create a completely dynamic UI.        -->
<!--                                           -->
<body>
	<div data-role="page" id="pageone">



		<div align="center" data-role="header">ICASSP 2016 Camera
			Localisation Demo</div>

		<!-- OPTIONAL: include this if you want history support -->
		<iframe src="javascript:''" id="__gwt_historyFrame" tabIndex='-1'
			style="position: absolute; width: 0; height: 0; border: 0"></iframe>

		<!-- RECOMMENDED if your web app will not function without JavaScript enabled -->
		<noscript>
			<div
				style="width: 22em; position: absolute; left: 50%; margin-left: -11em; color: red; background-color: white; border: 1px solid red; padding: 4px; font-family: sans-serif">
				Your web browser must have JavaScript enabled in order for this
				application to display correctly.</div>
		</noscript>


		<div data-role="main" class="ui-content" id="mainpage">

			<div data-role="collapsible" data-inset="false" id='algoDescription'
				data-collapsed='false'>
				<h3 align='center'>Algorithm Description</h3>
				<p>We present SHAPE, a novel camera pose estimation or
					perspective-n-point (PnP) algorithm. SHAPE stands for Sequential
					Half-space Aggregation for Pose Estimation and, as name implies, is
					based on the idea of consistency regions and half-space
					intersections. Our algorithm has linear time-complexity and a
					squared reconstruction error that decreases at least quadratically,
					as the number of feature point correspondences increase.</p>
				<p>
					Inspired by ideas from <a
						href="https://perception.inrialpes.fr/Publications/1997/HS97/HartleySturm-cviu97.pdf">triangulation</a>
					and <a
						href="http://infoscience.epfl.ch/record/33872/files/GoyalVT98.pdf">frame
						quantisation theory</a>, we define consistent reconstruction and then
					present SHAPE as a consistent pose estimation algorithm. We compare
					this algorithm with state-of-the-art pose estimation techniques in
					terms of accuracy and error decay rate. Most of the techniques in
					camera pose estimation rely on minmising a norm of the
					reconstruction error to find the optimal camera location. In this
					demo, we compare our SHAPE algorithm with the global minimum of the
					$\ell_1$,$\ell_2$, and $\ell_\infty$ norm of the reconstruction
					error. The experimental results verify our hypothesis on the
					optimal worst-case quadratic decay and demonstrate the promising
					performance of SHAPE compared to other approaches.
				</p>
				<p>
					To know more about the SHAPE algorithm and camera pose estimation,
					you can read our paper <a
						href="http://infoscience.epfl.ch/record/215282?ln=en">here</a>. If
					you want to have a better understanding of consistent
					reconstruction and why it's useful, you can have a look at our
					submitted <a href="http://infoscience.epfl.ch/record/213712">journal
						work</a>. Finally, to have a more complete view, you can also see <a
						href="http://infoscience.epfl.ch/record/207970?ln=en">our
						earlier work</a> on the analysis of point triangulation which studies
					consistent reconstruction for a circular camera setup.
				</p>
				<p>
					If you have any further questions, feel free to contact <a
						href="http://aghasemi.github.io/#">Alireza Ghasemi</a> via
					<emph>alireza dot ghasemi at epfl dot ch</emph>
					.
				</p>
			</div>

			<div data-role="collapsible" data-inset="false" id='demoDescription'
				data-collapsed='false'>
				<h3 align='center'>Usage Guide</h3>
				<p>In this demo, we try different methods (including SHAPE) to
					find the location of a camera in a room, based on the locations of
					a set of points and their images on the camera, known as known
					points. As the camera sees more and more points, we can compute its
					location with increasingly less error. You see the room and the
					camera from the top view (in the canvas below) for the sake of
					better user experience.</p>
				<p>To start a simulation, you first need to click inside the
					canvas at the location you want to put the camera. After that, you
					can change the intrinsic parameters of the camera using the
					provided sliders. Then, you can click on any point inside the
					canvas to add known points and see how the outputs of different
					algorithms change with adding more known points. Please note that
					only points that are inside the field of view of the camera
					actually contribute to reconstruction.</p>
				<p>The consistency region is a subspace of the room which, based
					on the known points and their images in the camera, is 100% certain
					to contain the true location of the camera. At each step in
					simulation, the consistency region is distinguished by a
					transparent light-green colour in the canvas.</p>
				<p>In case you are unhappy with some of the points you've
					selected, all you need is to click on "REMOVE KNOWN POINTS" and
					then click in the canvas over the point you want to remove (or as
					close as possible to it). After you are done with removing unwanted
					points, click on "ADD NEW KNOWN POINTS" to be able to add points
					again.</p>
			</div>

			<div data-role="collapsible" data-inset="false"
				data-collapsed='false' id='camParams'>
				<h3 align='center'>Simulation Parameters</h3>
				<div class="ui-grid-b" name="results">
					<div class="ui-block-a">
						<label for="numpix" align="center">Camera Resolution (No.
							of pixels)</label> <input type="range" name="numpix" id="numpix"
							value="3" min="3" max="32" align="center">
					</div>
					<div class="ui-block-b">
						<label for="camor" align="center">Camera Orientation
							(Degrees)</label> <input type="range" name="camor" id="camor" value="0"
							min="-90" max="90" align="center">
					</div>
					<div class="ui-block-c">
						<label for="fov" align="center">Field of View (Degrees)</label> <input
							type="range" name="fov" id="fov" value="30" min="10" max="90"
							align="center">
					</div>

				</div>

				<fieldset data-role="controlgroup" data-type="horizontal"
					align="center">

					<label> Add New Known Points <input type="radio"
						name="addremove" value="add" checked="checked" />
					</label> <label> Remove Known Points <input type="radio"
						name="addremove" value="rem" />
					</label>
				</fieldset>
			</div>

			<div data-role="collapsible" data-inset="false"
				data-collapsed='false' id='algoResults'>
				<h3 align='center'>Results</h3>
				<div class="ui-grid-d" name="results">
					<div class="ui-block-a">
						<label for="name">True camera location</label> <input type="text"
							id="trueCamPos" value="" readonly data-clear-btn="true"
							placeholder="Camera location not selected yet" />
					</div>


					<div class="ui-block-b">
						<label for="name">Min. $\ell_2$ norm (<b
							style="color: red;"> $\blacksquare$ red</b>)
						</label> <input type="text" id="minL2Norm" value="" readonly
							data-clear-btn="true" placeholder="No input points chosen" />
					</div>

					<div class="ui-block-c">
						<label for="name">Min. $\ell_1$ norm (<b
							style="color: blue;"> $\blacklozenge$ blue</b>)
						</label> <input type="text" id="minL1Norm" value="" readonly
							data-clear-btn="true" placeholder="No input points chosen" />
					</div>

					<div class="ui-block-d">
						<label for="name">Min. $\ell_\infty$ norm (<b
							style="color: black;"> $\blacktriangledown$ black</b>)
						</label> <input type="text" id="minLinfNorm" value="" readonly
							data-clear-btn="true" placeholder="No input points chosen" />
					</div>

					<div class="ui-block-e">
						<label for="name">Proposed approach (SHAPE - <b
							style="color: green;"> $\bullet$ green</b>)
						</label> <input type="text" id="shapeResult" value="" readonly
							data-clear-btn="true" placeholder="No input points chosen" />
					</div>

				</div>

				<div align="center" id="canvasContainer"></div>
				<label align="center" id="status" style="color: #0000FF"></label>
				<button id="resetButton" align="center">Reset</button>
			</div>


		</div>



		<div align="center" data-role="header">AudioVisual
			Communications Laboratory - EPFL</div>

	</div>
</body>
</html>
